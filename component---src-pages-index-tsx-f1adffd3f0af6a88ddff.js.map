{"version":3,"file":"component---src-pages-index-tsx-f1adffd3f0af6a88ddff.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/components/categories.tsx","webpack://gatsby-starter-blog/./src/pages/index.tsx"],"sourcesContent":["import React, { FC } from \"react\"\nimport { graphql, PageProps } from \"gatsby\"\n// import { CategoriesQuery } from \"graphql-types\"\n\n// type CategoriesQuery = { site?: { siteMetadata?: { title?: string | null } | null } | null, allMarkdownRemark: { nodes: Array<{ excerpt?: string | null, fields?: { slug?: string | null } | null, frontmatter?: { date?: any | null, title?: string | null, description?: string | null, categories?: string | null } | null }>, group: Array<{ fieldValue?: string | null, totalCount: number, edges: Array<{ node: { id: string } }> }> } };\n// Catefories:FC<PageProps<CategoriesQuery>>\n\nconst Categories = ({ data, onChangeCategory }) => {\n  const group = data.allMarkdownRemark.nodes\n  const categorySet:Set<string> = new Set()\n  group.forEach(prop => {\n    categorySet.add(prop.frontmatter.categories)\n  });\n\n  const clickHandler = (event) => {\n    onChangeCategory(event.target.innerText)\n  }\n  return (\n    <div className=\"category-wrapper\">\n      <h2>Categories</h2>\n      <ol className=\"category-box\">\n        <li\n          key={\"All\"}\n          className=\"categories\"\n          onClick={clickHandler}\n          onKeyPress={clickHandler}\n          role=\"presentation\"\n        >\n          All\n        </li>\n        {[...categorySet].map((fieldValue: string) => {\n          // const fieldValue = prop.frontmatter.categories\n          return (\n            <li\n              key={fieldValue}\n              className=\"categories\"\n              onClick={clickHandler}\n              onKeyPress={clickHandler}\n              role=\"presentation\"\n            >\n              {fieldValue}\n            </li>\n          )\n        })}\n      </ol>\n    </div>\n  )\n}\nexport default Categories\n\nexport const pageQuery = graphql`\n  query Categories {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date\n          title\n          description\n          categories\n        }\n      }\n      group(field: frontmatter___categories) {\n        edges {\n          node {\n            id\n          }\n        }\n        fieldValue\n        totalCount\n      }\n    }\n  }\n`","import * as React from \"react\"\nimport { useState } from \"react\"\nimport { Link, graphql, useStaticQuery, PageProps } from \"gatsby\"\n\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport Categories from \"../components/categories\"\n\ninterface PostNode {\n  excerpt: string\n  fields: {\n    slug: string\n  }\n  frontmatter: {\n    date: string\n    title: string\n    description: string\n    tags: string[]\n  }\n}\n\ninterface BlogIndexQueryData {\n  site: {\n    siteMetadata: {\n      title: string\n    }\n  }\n  allMarkdownRemark: {\n    nodes: PostNode[]\n  }\n}\n\ntype CategoriesQuery = { site?: { siteMetadata?: { title?: string | null } | null } | null, allMarkdownRemark: { nodes: Array<{ excerpt?: string | null, fields?: { slug?: string | null } | null, frontmatter?: { date?: any | null, title?: string | null, description?: string | null, categories?: string | null } | null }>, group: Array<{ fieldValue?: string | null, totalCount: number, edges: Array<{ node: { id: string } }> }> } };\n\nconst BlogIndex = ({ location }: PageProps) => {\n  const data: CategoriesQuery = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n      allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n        nodes {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            tags\n            categories\n          }\n        }\n      }\n    }\n  `)\n\n  const siteTitle = data.site.siteMetadata?.title || `Title`\n  const posts = data.allMarkdownRemark.nodes\n\n  const [filteredCategory, setFilteredCategory] = useState('All')\n  const filteredCategoryHandler = (selected) => {\n    setFilteredCategory(selected)\n  }\n\n  if (posts.length === 0) {\n    return (\n      <Layout location={location} title={siteTitle}>\n        <Seo title=\"All posts\" />\n        <Bio />\n        <p>\n          No blog posts found. \n        </p>\n      </Layout>\n    )\n  }\n  \n  const firstElement = posts[0];\n  const firstTitle = firstElement.frontmatter.title || firstElement.fields.slug\n\n  if (filteredCategory === `All`) {\n    return (\n      <Layout location={location} title={siteTitle}>\n        <Seo title=\"All posts\" />\n          {postLists(posts)}\n        <Categories data={data} onChangeCategory={filteredCategoryHandler} />\n      </Layout>\n    )\n  } \n  else {\n    const filteredPosts = posts.filter(post => (post.frontmatter.categories === filteredCategory))\n    const seoTitle = `Posts in ${filteredCategory}`\n    return (\n      <Layout location={location} title={siteTitle}>\n        <Seo title={seoTitle} />\n          {postLists(filteredPosts)}\n        <Categories data={data} onChangeCategory={filteredCategoryHandler} />\n      </Layout>\n    )\n  }\n}\n\nconst postLists = (posts) => {\n  const firstElement = posts[0];\n  const firstTitle = firstElement.frontmatter.title || firstElement.fields.slug\n\n  return (\n    <>\n      <div className=\"article-first\">\n        <article\n          className=\"post-list-item\"\n          itemScope\n          itemType=\"http://schema.org/Article\"\n        >\n          <header>\n            <h1>\n              <Link to={firstElement.fields.slug} itemProp=\"url\">\n                <span itemProp=\"headline\">{firstTitle}</span>\n              </Link>\n            </h1>\n            <small><span className=\"text-accent\">Latest Post</span> in <b>{firstElement.frontmatter.categories}</b> - {firstElement.frontmatter.date}</small>\n          </header>\n          <section>\n            <p\n              dangerouslySetInnerHTML={{\n                __html: firstElement.frontmatter.description || firstElement.excerpt,\n              }}\n              itemProp=\"description\"\n            />\n          </section>\n        </article>\n      </div>\n      <ol style={{ listStyle: `none` }}>\n        <hr/>\n        {posts.slice(1).map(post => {\n          const title = post.frontmatter.title || post.fields.slug\n\n          return (\n            <li key={post.fields.slug}>\n              <article\n                className=\"post-list-item\"\n                itemScope\n                itemType=\"http://schema.org/Article\"\n              >\n                <header>\n                  <h2>\n                    <Link to={post.fields.slug} itemProp=\"url\">\n                      <span itemProp=\"headline\">{title}</span>\n                    </Link>\n                  </h2>\n                  <small>in <b>{post.frontmatter.categories}</b> - {post.frontmatter.date}</small>\n                </header>\n                <section>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: post.frontmatter.description || post.excerpt,\n                    }}\n                    itemProp=\"description\"\n                  />\n                </section>\n              </article>\n            </li>\n          )\n        })}\n      </ol>\n    </>\n  )\n}\n\nexport default BlogIndex\n"],"names":["data","onChangeCategory","group","allMarkdownRemark","nodes","categorySet","Set","forEach","prop","add","frontmatter","categories","clickHandler","event","target","innerText","React","className","key","onClick","onKeyPress","role","_toConsumableArray","map","fieldValue","postLists","posts","firstElement","firstTitle","title","fields","slug","itemScope","itemType","Link","to","itemProp","date","dangerouslySetInnerHTML","__html","description","excerpt","style","listStyle","slice","post","location","useStaticQuery","siteTitle","site","siteMetadata","_data$site$siteMetada","useState","filteredCategory","setFilteredCategory","filteredCategoryHandler","selected","length","Layout","Seo","Bio","Categories","filteredPosts","filter","seoTitle"],"sourceRoot":""}