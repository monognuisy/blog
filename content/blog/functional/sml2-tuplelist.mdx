---
title: "SML - ìœ ìš©í•œ ìë£Œêµ¬ì¡°"
date: "2023-05-05"
description: "smlì˜ tuple, list, recordë¥¼ ì•Œì•„ë³´ì"
tags: ["Functional Programming","Standard ML"]
categories: "Functional Programming"
---


## ğŸªº Tuple

íŠœí”Œ(Tuple)ì€ ë³€ìˆ˜ë¥¼ ê³ ì •ëœ ê°œìˆ˜ë§Œí¼ ëª¨ì•„ë‘” ê²ƒ[^tuple-desc]ì´ë‹¤. ë³€ìˆ˜ì˜ íƒ€ì…ì€ ê°™ì„ í•„ìš”ê°€ ì—†ë‹¤.

[^tuple-desc]: ì—„ë°€í•˜ê²ŒëŠ”: ìˆœì„œê°€ ìˆê³ , ì¤‘ë³µì„ í—ˆë½í•˜ëŠ” ìœ í•œí•œ ì§‘í•©

```sml
val x = (10, false, "hello")
```

íŠœí”Œì˜ íƒ€ì…ì€ ê·¸ê²ƒì˜ ì›ì†Œì˜ íƒ€ì…ì„ `*`ë¡œ ì—°ê²°í•œ ê²ƒì´ë‹¤. ì¦‰, ìœ„ì˜ `x`ì˜ íƒ€ì…ì€ `int * bool * string` ì´ë‹¤.

ë‹¹ì—°íˆ, íŠœí”Œ ì•ˆì— íŠœí”Œì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë¥¼ nestingì´ë¼ê³  í•œë‹¤.

```sml
val y = (10, (20, "hello", 30), true)
(* 
  type of y: int * (int * string * int) * bool 
*)
```

### Accessing elements of tuple

íŠœí”Œì˜ ê° ì›ì†Œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. `#index`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```sml
val x = (10, (false, 20), "hello")

val x1 = #1 x         (* x1 is 10 *)
val x2 = #2 x         (* x2 is (false, 20) *)
val x21 = #1 (#2 x)   (* x21 is false *)
```

**indexê°€ 1ë¶€í„° ì‹œì‘í•œë‹¤**ëŠ” ì ì— ìœ ì˜í•˜ì.

#### parenthesis?

ì‚¬ì‹¤, `#index`ëŠ” ê·¸ ìì²´ë¡œ í•¨ìˆ˜ì´ë‹¤. ê·¼ë° sml ì—ì„œì˜ í•¨ìˆ˜ë¥¼ call í• ë•Œ, ì¸ìê°€ 1ê°œì¼ ë•ŒëŠ” êµ³ì´ ì†Œê´„í˜¸ë¥¼ ì“°ì§€ ì•Šì•„ë„ ëœë‹¤.
í•˜ì§€ë§Œ, ì—°ì‚°ì€ í•­ìƒ **left-to-right**ë¡œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ êµ¬ë¬¸ì€ errorë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

```sml
(* ìœ„ì˜ x tupleì„ ê·¸ëŒ€ë¡œ ì‚¬ìš© *)

val x21 = #1 #2 x
(* compiler see this as (#1 #2) x, and this causes type error. *)
```

ì¦‰, `#1`ì˜ ì¸ìë¡œ `#2`ê°€ ì˜¨ë‹¤ê³  í•´ì„í•˜ëŠ” ê²ƒì´ë‹¤.
`#1`ê°€ ì¸ìë¡œ ë°›ê¸°ë¥¼ ê¸°ëŒ€í•˜ëŠ”(expecting) íƒ€ì…ì€ tuple[^record]ì¸ë°, tupleì´ ì•„ë‹Œ ì›¬ ì´ìƒí•œ í•¨ìˆ˜ `#2`ê°€ ì™€ì„œ
type errorê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ, sml ì½”ë“œë¥¼ ì§¤ ë•ŒëŠ” ê´„í˜¸ë¥¼ ì˜ ì¨ì„œ ì—°ì‚°ì˜ ìˆœì„œë¥¼ ëª…ì‹œí•´ì£¼ì.

[^record]: ì •í™•íˆëŠ” record. ì¡°ê¸ˆ ë’¤ì— ë‚˜ì˜¬ ê²ƒì´ë‹¤.

### Function example

int pair (2-tuple)ì„ ë°›ì•„ì„œ ë‘ ì›ì†Œì˜ í•©ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¨ë³´ì.

```sml
fun sumPair (pr: int * int) =
  (#1 pr) + (#2 pr)
```

## ğŸ“„ List

ë¦¬ìŠ¤íŠ¸(List)ëŠ” **ê°™ì€ íƒ€ì…**ì˜ ì›ì†Œë¥¼ ì—¬ëŸ¬ê°œ ëª¨ì•„ë‘” ê²ƒì´ë‹¤. í¬ê¸°ëŠ” ê³ ì •ë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì—, ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤.

```sml
val x = [1, 2, 3]

(* type of x: int list *)
```

### How to 'Build' list?

smlì—ì„œëŠ” ì„ì˜ì˜ íƒ€ì…ì„ alpha, beta, gamma, ... ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë¶€ë¥´ëŠ”ë°, ì´ë¥¼ ì‹¤ì œ ê·¸ë¦¬ìŠ¤ ë¬¸ìë¥¼ ì‚¬ìš©í•´ì„œ í‘œê¸°í•˜ê¸°ëŠ” ì–´ë ¤ìš°ë¯€ë¡œ,
alpha ëŒ€ì‹ ì— `'a`, beta ëŒ€ì‹ ì— `'b`, ... ì´ëŸ° í‘œê¸°ë²•ì„ ì“´ë‹¤. \
ì¦‰, ì„ì˜ì˜ íƒ€ì…ì„ ê°€ì§€ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ íƒ€ì…ì€ `'a list` ë¡œ ì“´ë‹¤.

ê·¸ëŸ¬ë©´, ë³¸ê²©ì ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì. ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ **ê·œì¹™**ì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ë‹¤.

- `[]`ëŠ” `'a list` íƒ€ì…ì˜ ë¹ˆ ë¦¬ìŠ¤íŠ¸ì´ë‹¤.
- `'a` íƒ€ì…ì˜ `x`ì™€, `'a list` íƒ€ì…ì˜ `xs` ì— ëŒ€í•˜ì—¬, `x::xs` ëŠ” `'a list` íƒ€ì…ì˜ ë¦¬ìŠ¤íŠ¸ì´ê³ , ì´ëŠ” `xs` ì•ì— `x`ë¥¼ ë¶™ì¸ ë¦¬ìŠ¤íŠ¸ì´ë‹¤.

ì˜ˆë¥¼ë“¤ì–´, `1::[2,3,4] = [1,2,3,4]` ì´ë‹¤.

ì—¬ê¸°ì„œ ë“œëŠ” ìƒê°ì´ ê½¤ ë§ì•„ì•¼ í•œë‹¤. ëŒ€í‘œì ìœ¼ë¡œëŠ”, ì™œ `::`ëŠ” ì•ì—ë§Œ ë¶™ì¼ ìˆ˜ ìˆì§€? `append`ê°™ì€ ê²ƒì€ ì—†ë‚˜? ë¼ëŠ” ê²ƒê³¼,
ë„ëŒ€ì²´ `::` ëŠ” ë­ì„? ê°™ì€ ê²ƒì´ ìˆê² ë‹¤.

ë‹µì„ í•˜ìë©´, `append`ëŠ” ìˆì§€ë§Œ `::` ê°™ì´ ê·¼ë³¸ì ìœ¼ë¡œ 'ë¦¬ìŠ¤íŠ¸'ë¥¼ 'êµ¬ì„±'í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
ê·¸ë ‡ë‹¤ë©´, `::`ì´ ìƒë‹¹íˆ íŠ¹ì´í•œ ë…€ì„ì´ë¼ëŠ” ê²ƒì¸ë°, ì´ëŠ” í›„ì— íŒ¨í„´ ë§¤ì¹­ì„ ë°°ìš°ë©´ì„œ ìì„¸íˆ ë‹¤ë¤„ë³¼ ê²ƒì´ë‹¤. \
ì¼ë‹¨ì€, `::` ìì²´ê°€ ì¼ì¢…ì˜ `'a * 'a list -> 'a list` ê°™ì€ í•¨ìˆ˜ì´ë©°, right associativeí•œ infix operatorì¸ ê²ƒë§Œ ì•Œê³  ìˆì.

ì¦‰, ì‚¬ì‹¤ ë¦¬ìŠ¤íŠ¸ `[1,2,3,4]` ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ êµ¬ì„±ëœ ê²ƒì´ë‹¤.

```sml
(* [1,2,3,4] is same as *)
1 :: 2 :: 3 :: 4 :: []
```

### Accessing lists

ì–´ë–¤ ë¦¬ìŠ¤íŠ¸ `xs`ì— ëŒ€í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì€ ìœ ìš©í•œ í•¨ìˆ˜ë“¤ì„ í†µí•´ ì›ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

- `null xs`
  
  `xs` ê°€ ë¹„ì–´ìˆë‹¤ë©´ `true`ë¥¼, ì•„ë‹ˆë©´ `false`ë¥¼ ë°˜í™˜í•œë‹¤.

- `hd xs`

  `xs`ì˜ ê°€ì¥ ì²«ë²ˆì§¸ ì›ì†Œë¥¼ ë°˜í™˜í•œë‹¤. ë§Œì¼ `xs`ê°€ empty list ì´ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

- `tl xs`

  `xs`ì—ì„œ `hd xs` ë¥¼ ì œì™¸í•œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤. ë§Œì¼ `xs`ê°€ empty list ì´ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

ì¦‰, ì˜ˆì‹œë¥¼ ë“¤ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```sml
val xs = [1,2,3,4]

val isNull = null xs        (* false *)
val head = hd xs            (* 1 *)
val tail = tl xs            (* [2,3,4] *)
```

ê°ê°ì˜ íƒ€ì…ì€ `null: 'a list -> bool`, `hd: 'a list -> 'a`, `tl: 'a list -> 'a list` ì„ì„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

### Function example

```sml
(* Sum all element in the list
   ex) sumList([1,2,3,4]) = 10 *)
fun sumList (xs: int list) = 
  if null xs
  then 0
  else (hd xs) + sumList(tl xs)


(* Find nth element of list. 
   If fails, return 0 (bad style! but skip now)
   ex) findNth([1,2,3,4], 2) = 3 *)
fun findNth (xs: 'a list, n: int) =
  if null xs
  then 0
  else if n = 0
       then (hd xs)
       else findNth(tl xs, n - 1)


(* Append ys to the end of xs.
   ex) append([1,2,3,4], [5,6,7]) = [1,2,3,4,5,6,7] *)
fun append (xs: 'a list, ys: 'a list) =
  if null xs
  then ys
  else (hd xs)::append(tl xs, ys) 
```

ì°¸ê³ ë¡œ, ë‘ ë¦¬ìŠ¤íŠ¸ë¥¼ append í•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì€ sml ë‚´ì¥ operator `@`ì„ ì´ìš©í•´ì„œë„ í•  ìˆ˜ ìˆë‹¤.

```sml
[1,2,3,4] @ [5,6,7]     (* same with append([1,2,3,4], [5,6,7])
                           which results [1,2,3,4,5,6,7] *)
```

## ğŸ¥ Record

recordëŠ” í•„ë“œì™€ ê°’ì„ ê°€ì§„ë‹¤. ë‹¤ìŒ ì˜ˆì‹œ ì½”ë“œë¥¼ ë³´ì.

```sml
val x = {name = "monognuisy", id = 123456}

(* type of x is {name: string, id: int} *)
```

recordëŠ” ë§ˆì¹˜ Cì˜ êµ¬ì¡°ì²´(`struct`)ì™€ë„ ë‹®ì•˜ë‹¤.

### Accessing records

recordëŠ” í•„ë“œì˜ ì´ë¦„ìœ¼ë¡œ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ë‹¤.

```sml
val x = {name = "monognuisy", id = 123456}

val xname = #name x   (* xname = "monognuisy" *)
val xid = #id x       (* xid = 123456 *)
```

ì‘? ì´ë ‡ê²Œ ë³´ë‹ˆ ë§ˆì¹˜ 'íŠœí”Œ'ê°™ë‹¤. ì‹¤ì œë¡œ, ì´ ë ˆì½”ë“œëŠ” íŠœí”Œê³¼ ì—°ê´€ì´ ìˆë‹¤.

### Relation between Tuple and Record

ì‚¬ì‹¤, íŠœí”Œ `(e1, e2, ..., en)`ì€ ë ˆì½”ë“œ `{1 = e1, 2 = e2, ..., n = en}`ë¥¼ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ì“´ ê²ƒì´ë‹¤.
ì¦‰, íŠœí”Œì€ '**í•„ë“œ ì´ë¦„ì´ ìˆ«ìì¸ ë ˆì½”ë“œ**' ë¼ëŠ” ê²ƒì´ë‹¤.

í•˜ì§€ë§Œ, í•„ë“œ ì´ë¦„ì„ ìˆ«ìë¡œ í•˜ëŠ” ê²ƒì€ ê°€ë…ì„±ì—ë„ ë‚˜ìœ ì˜í–¥ì„ ë¼ì¹˜ê³ , íŠœí”Œì´ë¼ëŠ” ê²ƒì´ smlì—ì„œ ì›Œë‚™ ë§ì´ ì“°ì´ë‹¤ ë³´ë‹ˆ
ì¡°ê¸ˆ ë” ê°„í¸í•˜ê²Œ(?) ì“¸ ìˆ˜ ìˆë„ë¡ ë§Œë“  ê²ƒì´ë‹¤. ì´ëŸ° ê²ƒì„ **Syntactic sugar** ë¼ê³  í•œë‹¤.
